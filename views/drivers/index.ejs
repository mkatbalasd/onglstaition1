<% if (message) { %>
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    <%= message %>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
<% } %>
<% if (error) { %>
  <div class="alert alert-danger alert-dismissible fade show" role="alert">
    <%= error %>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
<% } %>
<div class="d-flex mb-3">
  <a href="/nagl/drivers/new" class="btn btn-success ms-auto">
    <i class="bi bi-plus-circle me-1"></i> إضافة سائق
  </a>
</div>
<div class="table-responsive">
<table class="table table-bordered table-striped data-table results-table">
    <thead class="table-light">
      <tr>
        <th></th>
        <th>الرقم</th>
        <th>الاسم</th>
        <th>رقم الهوية</th>
        <th>المنشأة</th>
        <th>تفاصيل</th>
        <th>إجراءات</th>
      </tr>
    </thead>
    <tbody>
      <% drivers.forEach(d => { %>
        <tr>
          <td></td>
          <td><pre class="codebox"><%= d.DriverID %></pre></td>
        <td><pre class="codebox"><%= d.FirstName %> <%= d.LastName %></pre></td>
        <td><pre class="codebox"><%= d.IdentityNumber || '' %></pre></td>
        <td><pre class="codebox"><%= d.FacilityName || '' %></pre></td>
        <td>
          <a href="/nagl/drivers/<%= d.DriverID %>" class="btn btn-sm btn-outline-secondary btn-icon">
            <i class="bi bi-eye"></i>
          </a>
        </td>
        <td>
          <a href="/nagl/drivers/<%= d.DriverID %>/edit" class="btn btn-sm btn-outline-primary">تعديل</a>
            <form method="POST" action="/nagl/drivers/<%= d.DriverID %>/delete" class="delete-form" style="display:inline">
              <button type="submit" class="btn btn-sm btn-outline-danger">حذف</button>
            </form>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>
</div>
